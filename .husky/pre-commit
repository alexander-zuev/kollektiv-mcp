echo "🐶 Running pre-commit checks..."

# Exit immediately if a command exits with a non-zero status.
set -e

echo "👸 Linting and formatting staged files..."
npx lint-staged || true

echo "🤓 Generating types..."
npx wrangler types

echo "🧪 Running tests..."
npm run test:husky

echo "🏗️ Deploying (kidding, it's a dry run)..."
npx wrangler deploy --dry-run

echo "✅ Pre-commit checks passed!"
exit 0