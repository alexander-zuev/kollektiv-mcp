echo "ğŸ¶ Running pre-commit checks..."

# Exit immediately if a command exits with a non-zero status.
set -e

echo "ğŸ‘¸ Linting and formatting staged files..."
npx lint-staged || true

echo "ğŸ¤“ Generating types..."
npx wrangler types

echo "ğŸ§ª Running tests..."
npm run test:husky

echo "ğŸ—ï¸ Deploying (kidding, it's a dry run)..."
npx wrangler deploy --dry-run

echo "âœ… Pre-commit checks passed!"
exit 0