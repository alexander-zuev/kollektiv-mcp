pre-commit:
  parallel: true
  commands:
    start:
      run: |
        echo "ğŸ¥Š Running pre-commit hooks..."

    gen-types:
      run: |
        echo "ğŸ¤“ Generating types..."
        npx wrangler types
      stage-fixed: true

    lint-and-format:
      run: |
        echo "ğŸ‘¸ Linting and formatting staged files..."
        npx lint-staged

    dry-deploy:
      run: |
        echo "ğŸ—ï¸ Deploying (kidding, it's a dry run)..."
        npx wrangler deploy --dry-run
      skip-output: true

    tests:
      run: |
        echo "ğŸ§ª Running tests..."
        npm run test:hooks