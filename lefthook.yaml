pre-commit:
  parallel: true
  commands:
    start:
      run: |
        echo "ğŸ¥Š Running pre-commit hooks..."

    gen-types:
      run: |
        echo "ğŸ¤“ Generating types..."
        pnpx wrangler types
      stage-fixed: true

    lint-and-format:
      run: |
        echo "ğŸ‘¸ Linting and formatting staged files..."
        pnpx lint-staged

    dry-deploy:
      run: |
        echo "ğŸ—ï¸ Deploying (kidding, it's a dry run)..."
        pnpx wrangler deploy --dry-run
      skip-output: true

    tests:
      run: |
        echo "ğŸ§ª Running tests..."
        pnpm run test:hooks